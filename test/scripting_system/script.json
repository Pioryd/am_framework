{
  "Test_js": {
    "type": "script",
    "name": "Test_js",
    "id": "Test_js_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "scope",
      "id": "Test_js_0",
      "instructions": [
        { "type": "js", "id": "Test_js_1", "body": "script.data.val++" }
      ]
    }
  },
  "Test_scope": {
    "type": "script",
    "name": "Test_scope",
    "id": "Test_scope_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "scope",
      "id": "Test_scope_0",
      "instructions": [
        { "type": "js", "id": "Test_scope_1", "body": "script.data.val++" },
        { "type": "js", "id": "Test_scope_2", "body": "script.data.val++" },
        { "type": "js", "id": "Test_scope_3", "body": "script.data.val++" }
      ]
    }
  },
  "Test_scope_if": {
    "type": "script",
    "name": "Test_scope_if",
    "id": "Test_scope_if_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "if",
      "id": "Test_scope_if_0",
      "conditions": {
        "script.data.val === 0": [
          {
            "type": "js",
            "id": "Test_scope_if_1",
            "body": "script.data.val++"
          },
          {
            "type": "js",
            "id": "Test_scope_if_2",
            "body": "script.data.val += 2"
          }
        ],
        "script.data.val === 1": [
          {
            "type": "js",
            "id": "Test_scope_if_3",
            "body": "script.data.val++"
          },
          {
            "type": "js",
            "id": "Test_scope_if_4",
            "body": "script.data.val += 3"
          }
        ],
        "": [
          {
            "type": "js",
            "id": "Test_scope_if_5",
            "body": "script.data.val++"
          },
          {
            "type": "js",
            "id": "Test_scope_if_6",
            "body": "script.data.val += 4"
          }
        ]
      }
    }
  },
  "Test_scope_while": {
    "type": "script",
    "name": "Test_scope_while",
    "id": "Test_scope_while_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "while",
      "id": "Test_scope_while_0",
      "condition": "script.data.val < 3",
      "instructions": [
        {
          "type": "js",
          "id": "Test_scope_while_1",
          "body": "script.data.val++"
        },
        {
          "type": "js",
          "id": "Test_scope_while_2",
          "body": "script.data.val++"
        }
      ]
    }
  },
  "Test_scope_for": {
    "type": "script",
    "name": "Test_scope_for",
    "id": "Test_scope_for_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "for",
      "id": "Test_scope_for_0",
      "condition": "script.data.i = 0; script.data.i < 2; script.data.i++",
      "instructions": [
        { "type": "js", "id": "Test_scope_for_1", "body": "script.data.val++" },
        { "type": "js", "id": "Test_scope_for_2", "body": "script.data.val++" }
      ]
    }
  },
  "Test_internal_break": {
    "type": "script",
    "name": "Test_internal_break",
    "id": "Test_internal_break_ID",
    "data": { "val": 0, "val_2": 0 },
    "root_scope": {
      "type": "scope",
      "id": "Test_internal_break_0",
      "instructions": [
        {
          "type": "for",
          "id": "Test_internal_break_1",
          "condition": "script.data.i = 0; script.data.i < 5; script.data.i++",
          "instructions": [
            {
              "type": "js",
              "id": "Test_internal_break_2",
              "body": "script.data.val = 0"
            },
            {
              "type": "scope",
              "id": "Test_internal_break_3",
              "instructions": [
                {
                  "type": "js",
                  "id": "Test_internal_break_4",
                  "body": "script.data.val++"
                },
                {
                  "type": "scope",
                  "id": "Test_internal_break_5",
                  "instructions": [
                    {
                      "type": "js",
                      "id": "Test_internal_break_6",
                      "body": "script.data.val++"
                    },
                    {
                      "type": "internal",
                      "id": "Test_internal_break_7",
                      "command": "break"
                    },
                    {
                      "type": "js",
                      "id": "Test_internal_break_8",
                      "body": "script.data.val++"
                    }
                  ]
                },
                {
                  "type": "js",
                  "id": "Test_internal_break_9",
                  "body": "script.data.val++"
                }
              ]
            },
            {
              "type": "js",
              "id": "Test_internal_break_10",
              "body": "script.data.val++"
            }
          ]
        },
        {
          "type": "while",
          "id": "Test_internal_break_11",
          "condition": "script.data.val < 3",
          "instructions": [
            {
              "type": "js",
              "id": "Test_internal_break_12",
              "body": "script.data.val++"
            },
            {
              "type": "while",
              "id": "Test_internal_break_13",
              "condition": "script.data.val_2 < 3",
              "instructions": [
                {
                  "type": "js",
                  "id": "Test_internal_break_14",
                  "body": "script.data.val_2++"
                },
                {
                  "type": "internal",
                  "id": "Test_internal_break_15",
                  "command": "break"
                },
                {
                  "type": "js",
                  "id": "Test_internal_break_16",
                  "body": "script.data.val_2++"
                }
              ]
            },
            {
              "type": "js",
              "id": "Test_internal_break_17",
              "body": "script.data.val++"
            }
          ]
        }
      ]
    }
  },
  "Test_internal_continue": {
    "type": "script",
    "name": "Test_internal_continue",
    "id": "Test_internal_continue_ID",
    "data": { "val": 0, "val_2": 0 },
    "root_scope": {
      "type": "scope",
      "id": "Test_internal_continue_0",
      "instructions": [
        {
          "type": "for",
          "id": "Test_internal_continue_1",
          "condition": "script.data.i = 0; script.data.i < 2; script.data.i++",
          "instructions": [
            {
              "type": "js",
              "id": "Test_internal_continue_2",
              "body": "script.data.i = script.data.i"
            },
            {
              "type": "scope",
              "id": "Test_internal_continue_3",
              "instructions": [
                {
                  "type": "js",
                  "id": "Test_internal_continue_4",
                  "body": "script.data.i = script.data.i"
                },
                {
                  "type": "internal",
                  "id": "Test_internal_continue_5",
                  "command": "continue"
                },
                {
                  "type": "js",
                  "id": "Test_internal_continue_6",
                  "body": "script.data.val++"
                }
              ]
            },
            {
              "type": "js",
              "id": "Test_internal_continue_7",
              "body": "script.data.i--"
            }
          ]
        },
        {
          "type": "while",
          "id": "Test_internal_continue_8",
          "condition": "script.data.val < 2",
          "instructions": [
            {
              "type": "js",
              "id": "Test_internal_continue_9",
              "body": "script.data.val = script.data.val"
            },
            {
              "type": "scope",
              "id": "Test_internal_continue_10",
              "instructions": [
                {
                  "type": "js",
                  "id": "Test_internal_continue_11",
                  "body": "script.data.val++"
                },
                {
                  "type": "internal",
                  "id": "Test_internal_continue_12",
                  "command": "continue"
                },
                {
                  "type": "js",
                  "id": "Test_internal_continue_13",
                  "body": "script.data.val_2++"
                }
              ]
            },
            {
              "type": "js",
              "id": "Test_internal_continue_14",
              "body": "script.data.val--"
            }
          ]
        }
      ]
    }
  },
  "Test_internal_sleep": {
    "type": "script",
    "name": "Test_internal_sleep",
    "id": "Test_internal_sleep_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "scope",
      "id": "Test_internal_sleep_0",
      "instructions": [
        {
          "type": "js",
          "id": "Test_internal_sleep_1",
          "body": "script.data.val++"
        },
        {
          "type": "internal",
          "id": "Test_internal_sleep_2",
          "command": "sleep 50"
        },
        {
          "type": "js",
          "id": "Test_internal_sleep_3",
          "body": "script.data.val++"
        }
      ]
    }
  },
  "Test_label_and_goto": {
    "type": "script",
    "name": "Test_label_and_goto",
    "id": "Test_label_and_goto_ID",
    "data": { "val": 0, "val_2": 0 },
    "root_scope": {
      "type": "scope",
      "id": "Test_label_and_goto_0",
      "instructions": [
        {
          "type": "js",
          "id": "Test_label_and_goto_1",
          "body": "script.data.val = -1"
        },
        {
          "type": "if",
          "id": "Test_label_and_goto_2",
          "conditions": {
            "script.data.val === 999": [
              {
                "type": "internal",
                "id": "Test_label_and_goto_3",
                "command": "label test_2"
              },
              {
                "type": "js",
                "id": "Test_label_and_goto_4",
                "body": "script.data.val += 2"
              },
              {
                "type": "internal",
                "id": "Test_label_and_goto_5",
                "command": "goto test_3"
              }
            ]
          }
        },
        {
          "type": "js",
          "id": "Test_label_and_goto_6",
          "body": "script.data.val = script.data.val"
        },
        {
          "type": "if",
          "id": "Test_label_and_goto_7",
          "conditions": {
            "script.data.val === 0": [
              {
                "type": "js",
                "id": "Test_label_and_goto_8",
                "body": "script.data.val++"
              },
              {
                "type": "js",
                "id": "Test_label_and_goto_9",
                "body": "script.data.val += 2"
              }
            ],
            "script.data.val === -1": [
              {
                "type": "js",
                "id": "Test_label_and_goto_10",
                "body": "script.data.val++"
              },
              {
                "type": "internal",
                "id": "Test_label_and_goto_11",
                "command": "goto test_1"
              },
              {
                "type": "js",
                "id": "Test_label_and_goto_12",
                "body": "script.data.val += 3"
              }
            ],
            "": [
              {
                "type": "js",
                "id": "Test_label_and_goto_13",
                "body": "script.data.val++"
              },
              {
                "type": "js",
                "id": "Test_label_and_goto_14",
                "body": "script.data.val += 4"
              }
            ]
          }
        },
        {
          "type": "js",
          "id": "Test_label_and_goto_15",
          "body": "script.data.val++"
        },
        {
          "type": "while",
          "id": "Test_label_and_goto_16",
          "condition": "script.data.val < 10",
          "instructions": [
            {
              "type": "js",
              "id": "Test_label_and_goto_17",
              "body": "script.data.val = script.data.val"
            },
            {
              "type": "scope",
              "id": "Test_label_and_goto_18",
              "instructions": [
                {
                  "type": "js",
                  "id": "Test_label_and_goto_19",
                  "body": "script.data.val++"
                },
                {
                  "type": "internal",
                  "id": "Test_label_and_goto_20",
                  "command": "label test_1"
                },
                {
                  "type": "js",
                  "id": "Test_label_and_goto_21",
                  "body": "script.data.val_2++"
                },
                {
                  "type": "internal",
                  "id": "Test_label_and_goto_22",
                  "command": "goto test_2"
                },
                {
                  "type": "js",
                  "id": "Test_label_and_goto_23",
                  "body": "script.data.val_2++"
                }
              ]
            },
            {
              "type": "js",
              "id": "Test_label_and_goto_24",
              "body": "script.data.val--"
            }
          ]
        },
        {
          "type": "internal",
          "id": "Test_label_and_goto_25",
          "command": "label test_3"
        }
      ]
    }
  },
  "Test_unhandled_internal": {
    "type": "script",
    "name": "Test_unhandled_internal",
    "id": "Test_unhandled_internal_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "if",
      "id": "Test_unhandled_internal_0",
      "conditions": {
        "script.data.val === 0": [
          {
            "type": "internal",
            "id": "Test_unhandled_internal_1",
            "command": "break"
          }
        ],
        "script.data.val === 1": [
          {
            "type": "internal",
            "id": "Test_unhandled_internal_2",
            "command": "continue"
          }
        ],
        "script.data.val === 2": [
          {
            "type": "internal",
            "id": "Test_unhandled_internal_3",
            "command": "goto test"
          }
        ]
      }
    }
  },
  "Test_timeout_scope": {
    "type": "script",
    "name": "Test_timeout_scope",
    "id": "Test_timeout_scope_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "scope",
      "id": "Test_timeout_scope_0",
      "instructions": [
        {
          "type": "js",
          "id": "Test_timeout_scope_1",
          "body": "script.data.val++"
        },
        {
          "type": "script",
          "timeout": 40,
          "name": "Test_internal_sleep",
          "id": "Test_timeout_scope_2"
        },
        {
          "type": "js",
          "id": "Test_timeout_scope_3",
          "body": "script.data.val++"
        }
      ]
    }
  },
  "Test_timeout_if": {
    "type": "script",
    "name": "Test_timeout_if",
    "id": "Test_timeout_if_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "if",
      "id": "Test_timeout_if_0",
      "conditions": {
        "script.data.val === 0": [
          {
            "type": "js",
            "id": "Test_timeout_if_1",
            "body": "script.data.val++"
          },
          {
            "type": "script",
            "timeout": 40,
            "name": "Test_internal_sleep",
            "id": "Test_timeout_if_2"
          },
          {
            "type": "js",
            "id": "Test_timeout_if_3",
            "body": "script.data.val++"
          }
        ]
      }
    }
  },
  "Test_timeout_while": {
    "type": "script",
    "name": "Test_timeout_while",
    "id": "Test_timeout_while_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "while",
      "id": "Test_timeout_while_0",
      "condition": "script.data.val < 3",
      "instructions": [
        {
          "type": "js",
          "id": "Test_timeout_while_1",
          "body": "script.data.val++"
        },
        {
          "type": "script",
          "timeout": 40,
          "name": "Test_internal_sleep",
          "id": "Test_timeout_while_2"
        },
        {
          "type": "js",
          "id": "Test_timeout_while_3",
          "body": "script.data.val++"
        }
      ]
    }
  },
  "Test_timeout_for": {
    "type": "script",
    "name": "Test_timeout_for",
    "id": "Test_timeout_for_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "for",
      "id": "Test_timeout_for_0",
      "condition": "script.data.i = 0; script.data.i < 1; script.data.i++",
      "instructions": [
        {
          "type": "js",
          "id": "Test_timeout_for_1",
          "body": "script.data.val++"
        },
        {
          "type": "script",
          "timeout": 40,
          "name": "Test_internal_sleep",
          "id": "Test_timeout_for_2"
        },
        {
          "type": "js",
          "id": "Test_timeout_for_3",
          "body": "script.data.val++"
        }
      ]
    }
  },
  "Test_timeout_script": {
    "type": "script",
    "name": "Test_timeout_script",
    "id": "Test_timeout_script_ID",
    "data": { "val": 0 },
    "root_scope": {
      "type": "scope",
      "id": "Test_timeout_script_0",
      "instructions": [
        {
          "type": "js",
          "id": "Test_timeout_script_1",
          "body": "script.data.val++"
        },
        {
          "type": "script",
          "timeout": 20,
          "name": "Test_timeout_scope",
          "id": "Test_timeout_script_2"
        },
        {
          "type": "js",
          "id": "Test_timeout_script_3",
          "body": "script.data.val++"
        }
      ]
    }
  },
  "Test_api": {
    "type": "script",
    "name": "Test_api",
    "id": "Test_api_ID",
    "data": { "val": 0, "min": 1 },
    "root_scope": {
      "type": "scope",
      "id": "Test_api_0",
      "instructions": [
        {
          "type": "js",
          "id": "Test_api_1",
          "body": "script.data.val++"
        },
        {
          "type": "api",
          "timeout": "20",
          "id": "Test_api_2",
          "name": "std.add_min_max",
          "args": ["min:script.data.min", "max:5"],
          "return": "script.data.added_min_max"
        },
        {
          "type": "internal",
          "id": "Test_api_3",
          "command": "sleep 50"
        },
        {
          "type": "js",
          "id": "Test_api_4",
          "body": "script.data.val++"
        }
      ]
    }
  }
}
